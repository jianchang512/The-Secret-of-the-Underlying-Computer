import{_ as a,o as p,c as o,Q as t}from"./chunks/framework.bf97371d.js";const s="/assets/23_1.c6d94476.jpg",e="/assets/23_2.cf8fc78d.jpg",i="/assets/23_3.df840043.jpg",n="/assets/23_4.1fa1a247.jpg",r="/assets/23_5.5cdba38d.jpg",c="/assets/23_6.9bacb2f3.jpg",q=JSON.parse('{"title":"23.操作系统与内核有什么区别？","description":"","frontmatter":{},"headers":[],"relativePath":"23.-cao-zuo-xi-tong-yu-nei-he-you-shi-mo-qu-bie.md","filePath":"23.-cao-zuo-xi-tong-yu-nei-he-you-shi-mo-qu-bie.md"}'),l={name:"23.-cao-zuo-xi-tong-yu-nei-he-you-shi-mo-qu-bie.md"},_=t('<h1 id="_23-操作系统与内核有什么区别" tabindex="-1">23.操作系统与内核有什么区别？ <a class="header-anchor" href="#_23-操作系统与内核有什么区别" aria-label="Permalink to &quot;23.操作系统与内核有什么区别？&quot;">​</a></h1><h2 id="通用底盘技术" tabindex="-1">通用底盘技术 <a class="header-anchor" href="#通用底盘技术" aria-label="Permalink to &quot;通用底盘技术&quot;">​</a></h2><p>Canoo公司有一项核心技术专利，这就是它们的通用电动底盘技术，长得是这个样子，非常像一个滑板：</p><p><img src="'+s+'" alt=""></p><p>这个带轮子、有电池、能动的滑板已经包含了一辆车最核心的组件，差的就是一个外壳。 </p><p>这个看起来像滑板的东西就是所谓的电池系统和底盘一体化技术，Canoo公司在它们的通用底盘上加装不同的外壳就能制造出不同的车型。 </p><h2 id="什么是内核" tabindex="-1">什么是内核？ <a class="header-anchor" href="#什么是内核" aria-label="Permalink to &quot;什么是内核？&amp;#x20;&quot;">​</a></h2><p>在上面这个示例中，<strong>包含轮子以及电池系统的底盘就好比内核，而套上外壳加上椅子以及内饰后的整体成品就好比操作系统</strong>。 </p><p>内核仅仅是操作系统的一部分，是真正与硬件交互的那部分软件，与硬件交互包括读写硬盘、读写网盘、读写内存以及任何连接到系统中的硬件。 </p><p>除了与硬件交互外，内核还负责分配资源，分配什么资源呢？所谓资源就是硬件，比如CPU时间、内存、IO等等，这些都是资源。</p><p><img src="'+e+'" alt=""></p><p>现在我们知道了内核负责分配资源，那么问题来了，要怎么分配这些资源呢？答案就是以进程的形式来分配资源。 </p><p>怎么分配呢？ </p><p>一句话：<strong>虚拟大法好</strong>。 </p><p>每个进程都认为自己在独占CPU，这通过CPU时间片来实现，内核让CPU在各个进程之间快速切换，这样程序员写好程序员后直接运行即可，即使在单核系统中运行成百上千个进程都没有问题。 </p><p>每个进程都认为自己在独占内存，这通过虚拟内存来实现。 </p><p>有的同学可能会问，为什么都要虚拟化呢？ </p><p>答案显而易见，因为计算机系统内的资源是有限的，<strong>我们只有几个CPU核心、几个G的内存，但却要同时运行几百几千个进程</strong>，除此之外我们别无它法。 </p><p>如果你还知道有其它更高效的方法那么赶紧放下手机，马上将你的思想写成论文发表出来，下一届的图灵奖非你莫属，当然在发表获奖感言的时候一定要记得表示是受到了【码农的荒岛求生】这个公众号的启发才想到的。</p><p><img src="'+i+'" alt=""></p><p>因此，内核的职责就是以进程的形式来分配CPU时间，以虚拟内存的形式来分配物理内存，以文件的形式来管理IO设备。 </p><h2 id="什么是操作系统" tabindex="-1">什么是操作系统？ <a class="header-anchor" href="#什么是操作系统" aria-label="Permalink to &quot;什么是操作系统？&amp;#x20;&quot;">​</a></h2><p>然而只有一个内核实际上是做不了什么真正有用的事情，就像上面示例中那个通用底盘一样，这个底盘确实能跑起来，但你没办法开着这样一个底盘出去浪，因为这个底盘很难用。 </p><p>因此，你不得不加装上方向盘、座椅以及车身外壳等，同样的道理，内核是给人用的，为了与内核交互，发明了命令行以及图形界面GUI。</p><p><img src="'+n+'" alt=""></p><p><strong>除了给普通用户提供使用的接口之外，操作系统还需要给程序员提供编写程序的接口</strong>，当我们写的程序依赖内核提供的服务时是该怎么办呢？ </p><p>有的同学说我们需要依赖内核提供的服务吗？ </p><p>想一想，进行网络编程时你有没有自己编写过处理TCP/IP协议栈数据的代码？你有没有自己写代码从网卡上收发数据？都没有，实际上你需要做的仅仅是简单的调用一些socket接口就可以了。 </p><p>网络编程仅仅是其中的一项，其它还包括文件IO、创建进程、创建线程等等等等，这些是内核提供的，那么我们该怎么使用呢？ </p><p>答案就是通过所谓的系统调用，system call。 </p><p>通过系统调用，我们可以像使用普通函数那样向操作系统请求服务，当然，直接使用系统调用是非常繁琐的，<strong>因此通常会在这之上提供一层封装</strong>。</p><p><img src="'+r+'" alt=""></p><p>在Windows平台就是给程序员提供编程接口的是Windows API，这层API包罗万象，不但包括上文提到对系统调用的封装，还包括其它功能，像创建带有图形界面的应用程序等等。 </p><p><strong>但在Linux世界你找不到一种类似Windows API的东西</strong>，毕竟Windows是微软自家产品，什么都可以打包起来，Linux只是一个开源的内核，如果一定要找一个类似的东西话那就是libc，也就是C标准库，这里同样包括了对系统调用的封装以及一些库函数，但libc不包含创建带有图形界面应用程序的 功能。 </p><p>现在我们知道了，操作系统需要提供两种接口：</p><ul><li>给用户提供操作接口。 </li><li>给程序员提供编程接口。</li></ul><p>这些就是好比汽车的外壳，我们(用户和程序员)看得见摸得着，外壳加上底盘——也就是内核，才是功能完善的操作系统。</p><p><img src="'+c+'" alt=""></p><h2 id="各种各样的操作系统" tabindex="-1">各种各样的操作系统 <a class="header-anchor" href="#各种各样的操作系统" aria-label="Permalink to &quot;各种各样的操作系统&amp;#x20;&quot;">​</a></h2><p>实际上我们熟悉的Linux只是内核而不能称得上是操作系统，Ubuntu则可以认为是操作系统，其内核是Linux；RedHat也是操作系统，其内核同样是Linux；我们可以看到，尽管Ubuntu和RedHat是不同的操作系统，但其内核可以是相同的。 </p><p>这就好比它们可以基于同样的底盘打造出不同的车型。 </p><p>而我们熟悉的Windows也是操作系统，其内核是Windows NT内核。 </p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&amp;#x20;&quot;">​</a></h2><p>内核就像本文开头提到的电动底盘，包含了一个汽车的最核心元素；但这样一个底盘并没有什么实际用处，当搭配上外壳以及座椅后才是一辆真正有用的车，这就好比操作系统。值得注意的是，不同的操作系统可以有相同的内核。 </p><p>当我们在使用方便的智能手机以及个人PC时不应忘记，正是操作系统在背后的默默工作让一堆硬件电路变得这么好用。 </p><p>希望这篇文章对大家理解操作系统以及内核有所帮助。</p>',46),d=[_];function u(h,m,g,b,P,x){return p(),o("div",null,d)}const C=a(l,[["render",u]]);export{q as __pageData,C as default};
